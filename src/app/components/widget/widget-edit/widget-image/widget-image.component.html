<!-- top navbar-->
<nav class="navbar navbar-default navbar-fixed-top">
  <div class="container-fluid">
    <p class="navbar-text pull-left">
      <a routerLink="/user/{{uid}}/website/{{wid}}/page/{{pid}}/widget"
         class="navbar-link">
        <span class="glyphicon glyphicon-chevron-left sw-text-black"></span>
      </a>
    </p>
    <a routerLink="/user/{{uid}}/website/{{wid}}/page/{{pid}}/widget/{{wgid}}"
       class="pull-left navbar-brand thick">
      <b>Widget edit</b>
    </a>
    <button type="submit"
            [disabled]="!f.valid"
            form="widgetForm"
            class="btn btn-xs sw-button-transparent navbar-link navbar-text pull-right sw-icon-padding">
      <span class="glyphicon glyphicon-ok sw-text-black"></span>
    </button>
  </div>
</nav>

<!--form-->
<div class="container-fluid">
  <form (ngSubmit)="update()"
        id="widgetForm"
        #f ="ngForm">
    <div class="form-group">
      <label for="name">Name</label>
      <input type="name"
             id="name"
             name="name"
             placeholder="Name of the image"
             ngModel="{{widget.name}}"
             #name="ngModel"
             class="form-control"/>
    </div>
    <div class="form-group">
      <label for="text">Text</label>
      <input type="text"
             id="text"
             name="text"
             placeholder="Text of the image"
             ngModel="{{widget.text}}"
             #text="ngModel"
             class="form-control"/>
    </div>
    <div class="form-group">
      <label for="url">URL</label>
      <input type="text"
             id="url"
             name="url"
             placeholder="url of the image"
             ngModel="{{widget.url}}"
             required
             #url="ngModel"
             class="form-control"/>
    </div>
    <span class="help-block"
          *ngIf="!url.valid && url.touched">URL can't be empty!</span>
    <div class="form-group">
      <label for="width">Width</label>
      <input type="text"
             id="width"
             name="width"
             placeholder="100%"
             ngModel="{{widget.width}}"
             required
             #width="ngModel"
             class="form-control"/>
    </div>
    <span class="help-block"
          *ngIf="!width.valid && width.touched">Width can't be empty!</span>
    <div>
      <a class="btn btn-primary btn-block "
         routerLink="/user/{{uid}}/website/{{wid}}/page/{{pid}}/widget/{{wgid}}/flickr" >Choose From Flickr</a>
      <br/>
      <form ngNoForm action="{{baseUrl}}/api/upload" method="post" enctype="multipart/form-data">
        <input  name="myFile" type="file" class="form-control" required/>
        <input  name="widgetId" value="{{wgid}}"   style="display: none"/>
        <input  name="websiteId" value="{{wid}}"   style="display: none"/>
        <input  name="pageId" value="{{pid}}"   style="display: none"/>
        <input  name="userId" value="{{uid}}"   style="display: none"/>
        <button type="submit" class="btn btn-block btn-primary">Upload Image</button>
      </form>
    </div>
    <br/>

    <div class="row">
      <div class="col-xs-6">
        <a routerLink="/user/{{uid}}/website/{{wid}}/page/{{pid}}/widget"
           class="btn btn-warning btn-block">Cancel</a>
      </div>
      <div class="col-xs-6">
        <a (click)="remove()"
           class="btn btn-danger btn-block">Delete</a>
      </div>
    </div>
  </form>
</div>

<!-- Footer -->
<nav class="navbar navbar-default navbar-fixed-bottom">
  <div class="container-fluid navbar-text pull-right">
    <a routerLink="/user">
      <span class="glyphicon glyphicon-user sw-icon-padding pull-right"></span>
    </a>
  </div>
</nav>

